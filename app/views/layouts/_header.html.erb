
<div class="navbar bg-secondary">
  <div class="flex-1">
    <%= button_to 'Artvive', museums_path, method: :get, class:"block px-4 py-2 text-xl text-gray-700" %>
  </div>
  <div class="dropdown dropdown-end">
    <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
      <div class="w-10 rounded-full">
        <% if user_signed_in? %>
          <% if current_user.avater.attached? %>
            <%= image_tag current_user.avater %>
          <% else %>
            <%= image_tag 'sample.png' %>
          <% end %>
        <% end %>
      </div>
    </div>
    <ul
        tabindex="0"
        class="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow">
      <div class="flex-none">

        <% if user_signed_in? %>
          <p class="block px-4 py-2 text-sm text-gray-700">Welcome, <%= current_user.email %>!</p>
          <%= button_to 'ログアウト', destroy_user_session_path, method: :delete, class:"block px-4 py-2 text-sm text-gray-700" %>
          <%= link_to '編集', edit_user_registration_path, class:"block px-4 py-2 text-sm text-gray-700" %>
          <%= button_to 'プライバシーポリシー', privacy_policy_path, method:'get', class:"block px-4 py-2 text-sm text-gray-700" %>
          <%= button_to '利用規約', rule_path, method:'get', class:"block px-4 py-2 text-sm text-gray-700" %>
          <%= button_to 'お問い合わせ', new_infomail_path( user_id: current_user.id ), method:'get' %>
          <% if current_user.avater.attached? %>
            <%= image_tag current_user.avater %>
          <% else %>
            <%= image_tag 'sample.png' %>
          <% end %>
        <% else %>
          <%= link_to 'ログイン', new_user_session_path, class:"block px-4 py-2 text-sm text-gray-700" %>
          <%= link_to '新規作成', new_user_registration_path, class:"block px-4 py-2 text-sm text-gray-700" %>
        <% end %>
      </div>
    </ul>
  </div>
</div>

<% if flash.any? %>
  <div role="alert" class="alert">
    <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        class="stroke-info h-6 w-6 shrink-0">
      <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <% flash.each do |type, message| %>
      <%= content_tag(:div, message, class: "alert alert-#{type == 'notice' ? 'success' : 'danger'}") %>
    <% end %>
  </div>
<% else %>
<% end %>
